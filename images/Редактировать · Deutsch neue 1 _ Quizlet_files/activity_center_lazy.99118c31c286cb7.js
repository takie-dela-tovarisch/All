(window.QJP=window.QJP||[]).push([["activity_center_lazy"],{"5OCO":function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n("pVnL"),a=n.n(r),i=(n("4mDm"),n("3bBZ"),n("UxlC"),n("TSYQ")),o=n.n(i),s=n("xqF0"),c=n("jvKz"),l=n("FJLI"),p=n("vzun"),d=n("q1tI"),m=n.n(d),u=n("EFuM");class h extends m.a.Component{constructor(e){super(e),this.handleClick=e=>{this.props.onClick&&this.props.onClick(e)},this.handleOpenPopover=()=>{this.setState({isPopoverOpen:!0})},this.handleClosePopover=()=>{this.setState({isPopoverOpen:!1})},this.shouldOpenTooltip=()=>!this.state.isPopoverOpen,this.state={isPopoverOpen:!1,menuTriggerActionOn:e.menuTriggerActionOn||(Object(u.j)()?"click":"hover"),tooltipTriggerActionOn:e.tooltipTriggerActionOn||(Object(u.j)()?"click":"hover")}}UNSAFE_componentWillReceiveProps(e){this.props.menuTriggerActionOn!==e.menuTriggerActionOn&&this.setState({menuTriggerActionOn:e.menuTriggerActionOn}),this.props.tooltipTriggerActionOn!==e.tooltipTriggerActionOn&&this.setState({tooltipTriggerActionOn:e.tooltipTriggerActionOn})}renderPopover(e){var t=this,n=m.a.Children.toArray(e.props.children).map((e=>e.props&&e.props.onClick?m.a.cloneElement(e,{onClick:function(){t.popoverTrigger&&t.popoverTrigger.close(),e.props.onClick(...arguments)}}):e));return m.a.createElement(l.a,{arrow:this.props.arrow,extraClassNames:this.props.extraClassNames,includeArrowInBounds:!0,spacing:this.props.popoverSpacing,variant:this.props.popoverVariant},m.a.cloneElement(e,{children:n}))}renderIconButton(){var e,t=o()("MenuIconWithTooltip",{"is-opened":this.state.isPopoverOpen});return e=this.props.linkTo?m.a.createElement(s.a,a()({icon:this.props.icon},this.props.iconProps,{linkTo:this.props.linkTo,title:this.props.tooltipText})):m.a.createElement(s.a,a()({icon:this.props.icon},this.props.iconProps,{onClick:this.handleClick,title:this.props.tooltipText})),m.a.createElement("span",{className:t},e)}renderButton(){var e=o()("MenuIconWithTooltip","is-"+this.props.popoverPosition.replace(/ /g,""),{"MenuIconWithTooltip--isHigherZIndex":this.props.isHigherZIndex}),{menu:t}=this.props;return t?m.a.createElement(c.a,{beforeClose:this.handleClosePopover,beforeOpen:this.handleOpenPopover,className:e,constrainToWindow:!1,overlay:this.renderPopover(t),position:this.props.popoverPosition,ref:e=>{this.popoverTrigger=e},triggerAction:this.state.menuTriggerActionOn},this.renderIconButton()):this.renderIconButton()}render(){var e=Object(u.f)()||Object(u.j)(),t="always"===this.state.tooltipTriggerActionOn,{tooltipText:n}=this.props,r=o()(this.props.tooltipOverlayClassName,{"MenuIconWithTooltip--isHigherZIndex":this.props.isHigherZIndex});return!n||e&&!t?this.renderButton():m.a.createElement(c.a,{afterOpen:this.props.afterOpenTooltip,beforeOpen:this.shouldOpenTooltip,className:r,overlay:m.a.createElement(p.a,null,n),position:this.props.tooltipPosition,ref:e=>{this.tooltipTrigger=e},triggerAction:this.state.tooltipTriggerActionOn},this.renderButton())}}h.defaultProps={arrow:!0,iconProps:{},isHigherZIndex:!1,popoverPosition:"bottom left",popoverSpacing:"regular",popoverVariant:"none",tooltipPosition:"bottom",tooltipTriggerActionOn:"hover"}},PeJR:function(e,t,n){"use strict";n.r(t)},eFEY:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n("FZtP"),n("Wr5T");var r=function(e,t,n,r){void 0===n&&(n=0),void 0===r&&(r=!0);var a=new IntersectionObserver((e=>{e.forEach((e=>{e.intersectionRatio>0&&(r&&a.unobserve(e.target),t(e))}))}),{threshold:n}),i=(e=>window.document.querySelectorAll(e.join()))(e);return Array.from(i).forEach((e=>{a.observe(e)})),a}},mahw:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n("8OQS"),a=n.n(r),i=n("AQxD"),o=n("bvRJ"),s=n("ugal"),c=n("q1tI"),l=n.n(c);class p extends l.a.PureComponent{renderBadge(){return"yellow"===this.props.badgeColor?l.a.createElement("div",{className:"MenuItemWithIcon-UIBadge"},l.a.createElement(i.a,{menu:!0,variant:"yellow"},this.props.badgeText)):"indigo"===this.props.badgeColor?l.a.createElement("div",{className:"MenuItemWithIcon-featureBadge"},this.props.badgeText):null}render(){var e=this.props,{icon:t,iconPosition:n,iconSize:r,text:i}=e,c=a()(e,["icon","iconPosition","iconSize","text"]);return l.a.createElement(s.a,c,l.a.createElement("span",{className:"MenuItemWithIcon-inner"},t?l.a.createElement(o.a,{className:"MenuItemWithIcon-"+n,icon:t,size:r}):null,this.props.badgeText?this.renderBadge():null,l.a.createElement("span",{className:"MenuItemWithIcon-text"},i)))}}p.defaultProps={iconPosition:"left",iconSize:"medium"}},"nL9/":function(e,t,n){"use strict";n.r(t);var r=n("yXPU"),a=n.n(r),i=(n("4mDm"),n("3bBZ"),n("baRz")),o=n("VzCf"),s=n("TSYQ"),c=n.n(s),l=n("5OCO"),p=n("mahw"),d=n("t1Ez"),m=n("q1tI"),u=n.n(m),h=n("+IfW"),g=n("eFEY"),v=Object(i.styled)("div")({name:"Wrapper",class:"w1r5yjly"}),O=Object(i.styled)("div")({name:"Description",class:"d8d60nb"}),C=Object(i.styled)("span")({name:"Message",class:"me8td7d"}),E=Object(i.styled)("span")({name:"CTA",class:"c7w5cv2"}),b=Object(i.styled)("div")({name:"UnreadIndicator",class:"u196krxg"}),y=Object(i.styled)("img")({name:"Image",class:"i123xrp9"}),T=Object(i.styled)("span")({name:"Timestamp",class:"td98ej8"}),f=Object(i.styled)("div")({name:"Menu",class:"m1g02rx5"}),I=e=>{var{actions:t,contentCard:n,cardIndex:r}=e;Object(m.useEffect)((()=>{Object(g.a)(["#card-"+r],(()=>{n.unread&&setTimeout((()=>{t.readContentCard(n)}),1e3)}),.5,!0)}),[t,n,r]);var a=()=>{t.removeContentCard(n)},i=c()("ActivityCenterCard",{"ActivityCenterCard--unread":!n.clicked});return u.a.createElement(v,{className:i,"data-testid":"ActivityCenterCard-testid",onClick:()=>{t.clickContentCard(n)}},!n.clicked&&u.a.createElement(b,{"data-testid":"ActivityCenterCard-unreadIndicator-testid"}),n.imageUrl&&u.a.createElement(y,{alt:"","data-testid":"ActivityCenterCard-image-testid",src:n.imageUrl}),u.a.createElement(O,{id:"card-"+r},u.a.createElement(C,null,n.message.length>150?u.a.createElement("span",null,Object(h.a)(n.message,150)):u.a.createElement(u.a.Fragment,null,u.a.createElement("span",null,n.message," "),u.a.createElement(E,null,Object(h.a)(n.title,150-n.message.length))," "),u.a.createElement(T,{"data-testid":"ActivityCenterCard-timestamp-testid"},n.timestamp))),u.a.createElement(f,{"data-testid":"ActivityCenterCard-menu-testid"},u.a.createElement(l.a,{extraClassNames:c()("UIPopover--clean",["o13g92mi"]),icon:"more",iconProps:{size:"large",variant:"borderless"},menu:u.a.createElement(u.a.Fragment,null,u.a.createElement(p.a,{icon:"garbage",iconSize:"large",key:"garbage",onClick:a,text:u.a.createElement(d.a,{id:"activity_center.cards.menu.remove_notifications"})})),menuTriggerActionOn:"click",onClick:e=>{e.stopPropagation()},popoverPosition:"bottom right"})))};n("zRO3");var P=n("dxfC"),j=n("T3U7"),A=Object(i.styled)("section")({name:"Title",class:"tjlnngl"}),x=Object(i.styled)("div")({name:"ActivityCenterCards",class:"a13nw0xf"}),k=Object(i.styled)("div")({name:"Placeholder",class:"p1q2r6yp"}),w=Object(i.styled)("div")({name:"PlaceholderImage",class:"pnjgjwo"}),_=Object(i.styled)("span")({name:"PlaceholderText",class:"p16wkk0i"});t.default=e=>{var{actions:t,isOpen:n}=e,[r,i]=Object(m.useState)([]);Object(m.useEffect)((()=>{n&&(function(){var e=a()((function*(){var e=yield o.c();i(e)}));return function(){return e.apply(this,arguments)}}()(),o.e(),t.markCardsAsDisplayed(),Object(j.a)("activity_center_cards_displayed"))}),[t,n]);var s=e=>{o.b(e),i(r.filter((t=>t.id!==e.id))),Object(j.a)("activity_center_card_dismissed")},l=e=>{o.f(e),Object(j.a)("activity_center_card_read")},p=e=>{Object(j.a)("activity_center_card_clicked"),o.a(e)},h=c()("ActivityCenter-modal",["o11j82bi"]);return u.a.createElement(P.a,{className:h,fullWidthBody:!0,isOpen:n,onClose:t.onClose},u.a.createElement("div",null,u.a.createElement(A,null,u.a.createElement(d.a,{id:"activity_center.title"})),r.length>0?u.a.createElement(x,null,r.map(((e,t)=>u.a.createElement(I,{actions:{clickContentCard:p,removeContentCard:s,readContentCard:l},cardIndex:t,contentCard:e,key:e.id})))):u.a.createElement(k,null,u.a.createElement(w,null),u.a.createElement(_,null,u.a.createElement(d.a,{id:"activity_center.placeholder"})))))};n("PeJR")},ugal:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n("8OQS"),a=n.n(r),i=n("TSYQ"),o=n.n(i),s=n("a08m"),c=n("q1tI"),l=n.n(c);class p extends l.a.PureComponent{render(){var e=this.props,{children:t,variant:n}=e,r=a()(e,["children","variant"]),i=o()("UIMenuItem",{["UIMenuItem--"+n]:n});return l.a.createElement("span",{className:i},l.a.createElement(s.a,r,l.a.createElement("span",{className:"UIMenuItem-inner"},t)))}}},zRO3:function(e,t,n){"use strict";n.r(t)}}]);